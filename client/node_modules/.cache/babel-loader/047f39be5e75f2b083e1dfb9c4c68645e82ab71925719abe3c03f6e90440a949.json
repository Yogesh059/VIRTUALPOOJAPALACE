{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OS\\\\Videos\\\\VirtualPoojaPalace\\\\client\\\\src\\\\pages\\\\Summary.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport styled from \"styled-components\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { publicRequest, userRequest } from \"../requestMethods\";\nimport { useNavigate } from \"react-router\";\nconst SummaryBox = styled.div`\n  flex: 1;\n  border: 0.5px solid black;\n  border-radius: 20px;\n  padding: 20px;\n  height: 50vh;\n  margin-left: 10px;\n`;\n_c = SummaryBox;\nconst SummaryTitle = styled.h1`\n  font-weight: 200;\n`;\n_c2 = SummaryTitle;\nconst SummaryItem = styled.div`\n  margin: 30px 0px;\n  display: flex;\n  justify-content: space-between;\n  font-weight: ${props => props.type === \"total\" ? \"500\" : \"normal\"};\n  font-size: ${props => props.type === \"total\" ? \"24px\" : \"inherit\"};\n`;\n_c3 = SummaryItem;\nconst SummaryItemText = styled.span``;\n_c4 = SummaryItemText;\nconst SummaryItemPrice = styled.span``;\n_c5 = SummaryItemPrice;\nconst Button = styled.button`\n  width: 100%;\n  padding: 10px;\n  background-color: black;\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: teal;\n    transform: scale(1.1);\n  }\n`;\n_c6 = Button;\nconst KEY = process.env.REACT_APP_STRIPE;\nconst Summary = _ref => {\n  _s();\n  let {\n    totalPrice,\n    productList,\n    user\n  } = _ref;\n  const history = useNavigate();\n  const [stripeToken, setStripeToken] = useState(null);\n  useEffect(() => {\n    const makeRequest = async () => {\n      try {\n        const res = await userRequest.post(\"/checkout/payment\", {\n          tokenId: stripeToken.id,\n          amount: totalPrice * 100\n        });\n        if (res) {\n          for (let i = 0; i < (productList === null || productList === void 0 ? void 0 : productList.length); i++) {\n            try {\n              await publicRequest.post(\"/orders\", {\n                userId: user,\n                products: [{\n                  productId: productList[i].productId\n                }, {\n                  quantity: productList[i].quantity\n                }],\n                amount: productList[i].pricePerItem * productList[i].quantity,\n                status: \"Success\"\n              });\n            } catch (e) {\n              console.log(\"Error while ordering\");\n            }\n          }\n          history(\"/success\");\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    };\n    stripeToken && makeRequest();\n  }, [stripeToken, totalPrice, history, productList, user]);\n  return /*#__PURE__*/React.createElement(SummaryBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(SummaryTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, \"BOOKING SUMMARY\"), /*#__PURE__*/React.createElement(SummaryItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SummaryItemText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \"SubTotal\"), /*#__PURE__*/React.createElement(SummaryItemPrice, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, \"\\u20B9 \", totalPrice)), /*#__PURE__*/React.createElement(SummaryItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SummaryItemText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 9\n    }\n  }, \"Extra Charges\"), /*#__PURE__*/React.createElement(SummaryItemPrice, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, \"\\u20B9 0\")), /*#__PURE__*/React.createElement(SummaryItem, {\n    type: \"total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SummaryItemText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(SummaryItemPrice, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, \"\\u20B9 \", totalPrice)), /*#__PURE__*/React.createElement(StripeCheckout, {\n    name: \"AY\",\n    img: \"https://avatars.githubusercontent.com/u/1486366?v=4\",\n    billingAddress: true,\n    shippingAddress: true,\n    description: `Your total is ₹${totalPrice}`,\n    amount: totalPrice * 100,\n    token: token => setStripeToken(token),\n    stripeKey: KEY,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, \"CHECKOUT NOW\")));\n};\n_s(Summary, \"Axtbq/TgbNnh49pQB4zsmNRFwaM=\", false, function () {\n  return [useNavigate];\n});\n_c7 = Summary;\nexport default Summary;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"SummaryBox\");\n$RefreshReg$(_c2, \"SummaryTitle\");\n$RefreshReg$(_c3, \"SummaryItem\");\n$RefreshReg$(_c4, \"SummaryItemText\");\n$RefreshReg$(_c5, \"SummaryItemPrice\");\n$RefreshReg$(_c6, \"Button\");\n$RefreshReg$(_c7, \"Summary\");","map":{"version":3,"names":["React","styled","StripeCheckout","useSelector","useEffect","useState","publicRequest","userRequest","useNavigate","SummaryBox","div","_c","SummaryTitle","h1","_c2","SummaryItem","props","type","_c3","SummaryItemText","span","_c4","SummaryItemPrice","_c5","Button","button","_c6","KEY","process","env","REACT_APP_STRIPE","Summary","_ref","_s","totalPrice","productList","user","history","stripeToken","setStripeToken","makeRequest","res","post","tokenId","id","amount","i","length","userId","products","productId","quantity","pricePerItem","status","e","console","log","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","name","img","billingAddress","shippingAddress","description","token","stripeKey","_c7","$RefreshReg$"],"sources":["C:/Users/OS/Videos/VirtualPoojaPalace/client/src/pages/Summary.jsx"],"sourcesContent":["import React from 'react';\nimport styled from \"styled-components\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport { useSelector } from \"react-redux\";\nimport { useEffect, useState } from \"react\";\nimport { publicRequest, userRequest } from \"../requestMethods\";\nimport { useNavigate } from \"react-router\";\n\nconst SummaryBox = styled.div`\n  flex: 1;\n  border: 0.5px solid black;\n  border-radius: 20px;\n  padding: 20px;\n  height: 50vh;\n  margin-left: 10px;\n`;\nconst SummaryTitle = styled.h1`\n  font-weight: 200;\n`;\nconst SummaryItem = styled.div`\n  margin: 30px 0px;\n  display: flex;\n  justify-content: space-between;\n  font-weight: ${(props) => (props.type === \"total\" ? \"500\" : \"normal\")};\n  font-size: ${(props) => (props.type === \"total\" ? \"24px\" : \"inherit\")};\n`;\nconst SummaryItemText = styled.span``;\n\nconst SummaryItemPrice = styled.span``;\n\nconst Button = styled.button`\n  width: 100%;\n  padding: 10px;\n  background-color: black;\n  color: white;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    background-color: teal;\n    transform: scale(1.1);\n  }\n`;\n\nconst KEY = process.env.REACT_APP_STRIPE;\n\nconst Summary = ({ totalPrice, productList, user }) => {\n  const history = useNavigate();\n  const [stripeToken, setStripeToken] = useState(null);\n\n  useEffect(() => {\n    const makeRequest = async () => {\n      try {\n        const res = await userRequest.post(\"/checkout/payment\", {\n          tokenId: stripeToken.id,\n          amount: totalPrice * 100,\n        });\n\n        if (res) {\n          for (let i = 0; i < productList?.length; i++) {\n            try {\n              await publicRequest.post(\"/orders\", {\n                userId: user,\n                products: [\n                  {\n                    productId: productList[i].productId,\n                  },\n                  {\n                    quantity: productList[i].quantity,\n                  },\n                ],\n                amount: productList[i].pricePerItem * productList[i].quantity,\n                status: \"Success\",\n              });\n            } catch (e) {\n              console.log(\"Error while ordering\");\n            }\n          }\n\n          history(\"/success\");\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    stripeToken && makeRequest();\n  }, [stripeToken, totalPrice, history, productList, user]);\n\n  return (\n    <SummaryBox>\n      <SummaryTitle>BOOKING SUMMARY</SummaryTitle>\n      <SummaryItem>\n        <SummaryItemText>SubTotal</SummaryItemText>\n        <SummaryItemPrice>₹ {totalPrice}</SummaryItemPrice>\n      </SummaryItem>\n      <SummaryItem>\n        <SummaryItemText>Extra Charges</SummaryItemText>\n        <SummaryItemPrice>₹ 0</SummaryItemPrice>\n      </SummaryItem>\n      {/* <SummaryItem>\n          <SummaryItemText>Shipping Discount</SummaryItemText>\n          <SummaryItemPrice>- ₹ 0</SummaryItemPrice>\n      </SummaryItem> */}\n      <SummaryItem type=\"total\">\n        <SummaryItemText>Total</SummaryItemText>\n        <SummaryItemPrice>₹ {totalPrice}</SummaryItemPrice>\n      </SummaryItem>\n      <StripeCheckout\n        name=\"AY\"\n        img=\"https://avatars.githubusercontent.com/u/1486366?v=4\"\n        billingAddress\n        shippingAddress\n        description={`Your total is ₹${totalPrice}`}\n        amount={totalPrice * 100}\n        token={(token) => setStripeToken(token)}\n        stripeKey={KEY}\n      >\n        <Button>CHECKOUT NOW</Button>\n      </StripeCheckout>\n    </SummaryBox>\n  );\n};\n\nexport default Summary;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}