{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OS\\\\Videos\\\\VirtualPoojaPalace\\\\client\\\\src\\\\pages\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { mobile } from '../responsive';\nimport { useDispatch, useSelector } from 'react-redux';\n// import { login } from \"../redux/apiCalls\";\nimport { publicRequest } from '../requestMethods';\nimport { useNavigate } from 'react-router';\nimport { Link } from 'react-router-dom';\nconst Container = styled.div`\nwidth: 100vw;\nheight: 100vh;\nbackground: linear-gradient(rgba(255,255,255,0.2),rgba(255,255,255,0.2)\n), url(\"https://st3.depositphotos.com/6395384/18766/i/450/depositphotos_187669526-stock-photo-agnihotra-is-a-vedic-yadnya.jpg\") center;\nbackground-size: cover;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\n`;\n_c = Container;\nconst Wrapper = styled.div`\n/* background-color: white; */\nbackground: rgba( 255, 255, 255, 0.45 );\nbox-shadow: 0 8px 32px 0 rgba( 31, 38, 135, 0.37 );\nbackdrop-filter: blur( 4.5px );\n-webkit-backdrop-filter: blur( 4.5px );\nborder-radius: 10px;\nwidth: 25%;\n\npadding: 20px;\n/* background-color: white; */\n${mobile({\n  width: \"75%\"\n})}\n`;\n_c2 = Wrapper;\nconst Title = styled.h1`\nfont-size: 24px;\nfont-weight: 300;\n`;\n_c3 = Title;\nconst Form = styled.form`\ndisplay: flex;\nflex-direction: column;\n`;\n_c4 = Form;\nconst Input = styled.input`\nfont-size: 20px;\nfont-weight: 600;\nflex:1;\nborder-radius: 20px;\nborder: none;\nmin-width: 40%;\nmargin:10px 0px;\npadding: 10px;\n`;\n_c5 = Input;\nconst Button = styled.button`\nborder-radius: 20px;\nwidth: 40%;\nborder: none;\npadding: 15px 20px;\nbackground-color: teal;\ncolor: white;\ncursor: pointer;\nmargin-bottom: 10px;\n&:disabled{\n    color:green;\n    cursor: not-allowed;\n}\n`;\n_c6 = Button;\nconst Lin = styled.a`\nmargin: 5px 0px;\nfont-size: 12px;\ntext-decoration: none;\n/* text-decoration: underline; */\ncursor: pointer;\n\n`;\n_c7 = Lin;\nconst Error = styled.span`\ncolor:red;\n`;\n_c8 = Error;\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  // const dispatch = useDispatch();\n  const {\n    isFetching,\n    error\n  } = useSelector(state => state.user);\n  const handleClick = async e => {\n    e.preventDefault();\n    // login(dispatch, { username, password });\n\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const body = {\n      username: username,\n      password: password\n    };\n    try {\n      const response = await publicRequest.post(\"/auth/login\", body, config);\n      if (response.status === 200) {\n        const userData = response.data;\n        localStorage.setItem(\"user\", JSON.stringify(userData));\n        alert(`Login successful`);\n        navigate(\"/\");\n      } else {\n        // Log the response for debugging purposes\n        console.error(\"Login failed - response:\", response);\n\n        // Display a generic error message\n        alert(\"Login failed. Please try again.\");\n      }\n    } catch (error) {\n      // Log the error for debugging purposes\n      console.error(\"Login error:\", error);\n\n      // Display a generic error message\n      alert(\"Something went wrong. Please try again.\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }\n  }, \"SIGN IN\"), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Username\",\n    autoComplete: \"\",\n    onChange: e => {\n      setUsername(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Password\",\n    autoComplete: \"\",\n    type: \"password\",\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClick,\n    type: \"submit\",\n    disabled: isFetching,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 11\n    }\n  }, \"Login\"), error && /*#__PURE__*/React.createElement(Error, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, \"Something went wrong...\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Lin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, \"CREATE A NEW ACCOUNT\")))));\n};\n_s(Login, \"YZR/dQWi3QopYPnF7HWGlhtMWGc=\", false, function () {\n  return [useNavigate, useSelector];\n});\n_c9 = Login;\nexport default Login;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"Title\");\n$RefreshReg$(_c4, \"Form\");\n$RefreshReg$(_c5, \"Input\");\n$RefreshReg$(_c6, \"Button\");\n$RefreshReg$(_c7, \"Lin\");\n$RefreshReg$(_c8, \"Error\");\n$RefreshReg$(_c9, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","styled","mobile","useDispatch","useSelector","publicRequest","useNavigate","Link","Container","div","_c","Wrapper","width","_c2","Title","h1","_c3","Form","form","_c4","Input","input","_c5","Button","button","_c6","Lin","a","_c7","Error","span","_c8","Login","_s","navigate","username","setUsername","password","setPassword","isFetching","error","state","user","handleClick","e","preventDefault","config","headers","body","response","post","status","userData","data","localStorage","setItem","JSON","stringify","alert","console","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","autoComplete","onChange","target","value","type","onClick","disabled","to","_c9","$RefreshReg$"],"sources":["C:/Users/OS/Videos/VirtualPoojaPalace/client/src/pages/Login.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport { mobile } from '../responsive'\nimport { useDispatch, useSelector } from 'react-redux';\n// import { login } from \"../redux/apiCalls\";\nimport { publicRequest } from '../requestMethods';\nimport { useNavigate } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nconst Container = styled.div`\nwidth: 100vw;\nheight: 100vh;\nbackground: linear-gradient(rgba(255,255,255,0.2),rgba(255,255,255,0.2)\n), url(\"https://st3.depositphotos.com/6395384/18766/i/450/depositphotos_187669526-stock-photo-agnihotra-is-a-vedic-yadnya.jpg\") center;\nbackground-size: cover;\ndisplay: flex;\nalign-items: center;\njustify-content: center;\n`\nconst Wrapper = styled.div`\n/* background-color: white; */\nbackground: rgba( 255, 255, 255, 0.45 );\nbox-shadow: 0 8px 32px 0 rgba( 31, 38, 135, 0.37 );\nbackdrop-filter: blur( 4.5px );\n-webkit-backdrop-filter: blur( 4.5px );\nborder-radius: 10px;\nwidth: 25%;\n\npadding: 20px;\n/* background-color: white; */\n${mobile({ width: \"75%\" })}\n`\nconst Title = styled.h1`\nfont-size: 24px;\nfont-weight: 300;\n`\n\nconst Form = styled.form`\ndisplay: flex;\nflex-direction: column;\n`\n\nconst Input = styled.input`\nfont-size: 20px;\nfont-weight: 600;\nflex:1;\nborder-radius: 20px;\nborder: none;\nmin-width: 40%;\nmargin:10px 0px;\npadding: 10px;\n`\nconst Button = styled.button`\nborder-radius: 20px;\nwidth: 40%;\nborder: none;\npadding: 15px 20px;\nbackground-color: teal;\ncolor: white;\ncursor: pointer;\nmargin-bottom: 10px;\n&:disabled{\n    color:green;\n    cursor: not-allowed;\n}\n`\nconst Lin = styled.a`\nmargin: 5px 0px;\nfont-size: 12px;\ntext-decoration: none;\n/* text-decoration: underline; */\ncursor: pointer;\n\n`\nconst Error = styled.span`\ncolor:red;\n`\n\n\nconst Login = () => {\n\n  const navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  // const dispatch = useDispatch();\n  const { isFetching, error } = useSelector((state) => state.user);\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    // login(dispatch, { username, password });\n\n\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    const body = {\n      username: username,\n      password: password,\n    }\n    try {\n      const response = await publicRequest.post(\"/auth/login\", body, config);\n  \n      if (response.status === 200) {\n        const userData = response.data;\n        localStorage.setItem(\"user\", JSON.stringify(userData));\n        alert(`Login successful`);\n        navigate(\"/\");\n      } else {\n        // Log the response for debugging purposes\n        console.error(\"Login failed - response:\", response);\n  \n        // Display a generic error message\n        alert(\"Login failed. Please try again.\");\n      }\n    } \n      catch (error) {\n      // Log the error for debugging purposes\n      console.error(\"Login error:\", error);\n  \n      // Display a generic error message\n      alert(\"Something went wrong. Please try again.\");\n     }\n  };\n  \n\n  return (\n    <Container>\n      <Wrapper >\n        <Title>SIGN IN</Title>\n        <Form>\n          <Input placeholder=\"Username\" autoComplete=''\n            onChange={(e) => { setUsername(e.target.value) }}\n          />\n          <Input placeholder=\"Password\"\n            autoComplete=''\n            type=\"password\"\n            onChange={(e) => { setPassword(e.target.value) }}\n          />\n          <Button onClick={handleClick} type='submit' disabled={isFetching}>Login</Button>\n          {/* <Button onClick={handleClick} disabled={isFetching}>LOGIN</Button> */}\n          {error && <Error>Something went wrong...</Error>}\n          {/* <Lin>DO NOT REMEMBER PASSWORD ?</Lin> */}\n          <Link to=\"/register\">\n            <Lin>\n              CREATE A NEW ACCOUNT\n            </Lin>\n          </Link>\n        </Form>\n      </Wrapper>\n    </Container>\n  )\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}