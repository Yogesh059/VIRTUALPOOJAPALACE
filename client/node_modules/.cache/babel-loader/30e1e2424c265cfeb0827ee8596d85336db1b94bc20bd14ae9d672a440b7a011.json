{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\OS\\\\Videos\\\\VirtualPoojaPalace\\\\client\\\\src\\\\components\\\\Products.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { popularProducts } from \"../data\";\nimport Product from \"./Product\";\nimport axios from \"axios\";\nimport { Search, ShoppingCartOutlined } from \"@material-ui/icons\";\nimport { Badge } from \"@material-ui/core\";\nimport { mobile } from \"../responsive\";\nconst Container = styled.div`\n  padding: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n`;\n_c = Container;\nconst SearchContainer = styled.div`\n  border: 0.5px solid teal;\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n  padding: 10px;\n  background-color: #f5f5f5;\n  border-radius: 20px;\n  width: 50%;\n  transition: background-color 0.3s;\n  position: relative;\n\n  &:hover {\n    background-color: #ececee;\n  }\n\n  ${mobile({\n  width: \"100%\"\n})}\n`;\n_c2 = SearchContainer;\nconst Input = styled.input`\n  border: none;\n  outline: none;\n  width: 100%;\n  font-size: 16px;\n`;\n_c3 = Input;\nconst TopButton = styled.button`\n  padding: 10px 20px;\n  font-weight: 600;\n  cursor: pointer;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  background-color: teal;\n  color: white;\n  border: none;\n  border-radius: 20px;\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n\n  ${mobile({\n  marginLeft: 0,\n  marginTop: \"10px\",\n  position: \"static\",\n  width: \"100%\"\n})}\n`;\n_c4 = TopButton;\nconst ResultsMessage = styled.p`\n  font-size: 16px;\n  font-weight: bold;\n  margin-top: 10px;\n`;\n_c5 = ResultsMessage;\nconst Products = _ref => {\n  _s();\n  let {\n    cat,\n    filters,\n    sort\n  } = _ref;\n  const [products, setProducts] = useState(popularProducts);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [searchText, setSearchText] = useState(\"\");\n  const [searchResultsMessage, setSearchResultsMessage] = useState(\"\");\n  useEffect(() => {\n    getProducts();\n  }, [cat]);\n  const handleChange = e => {\n    setSearchText(e.target.value);\n    if (e.target.value === \"\") {\n      getProducts();\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === \"Enter\") {\n      handleSearch();\n    }\n  };\n  const getProducts = async () => {\n    try {\n      const res = await axios.get(cat ? `http://localhost:5000/api/products?category=${cat}` : \"https://virtual-pooja-palace-api.vercel.app/api/products\");\n      setProducts(res.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  useEffect(() => {\n    cat && setFilteredProducts(products.filter(item => Object.entries(filters).every(_ref2 => {\n      let [key, value] = _ref2;\n      return item[key].includes(value);\n    })));\n  }, [products, cat, filters]);\n  useEffect(() => {\n    if (sort === \"newest\") {\n      setFilteredProducts(prev => [...prev].sort((a, b) => a.createdAt - b.createdAt));\n    } else if (sort === \"asc\") {\n      setFilteredProducts(prev => [...prev].sort((a, b) => a.price - b.price));\n    } else {\n      setFilteredProducts(prev => [...prev].sort((a, b) => b.price - a.price));\n    }\n  }, [sort]);\n  const handleSearch = () => {\n    let arr = [];\n    for (let i = 0; i < (products === null || products === void 0 ? void 0 : products.length); i++) {\n      if (products[i].title.toLowerCase().includes(searchText.toLowerCase())) {\n        arr.push(products[i]);\n      }\n    }\n    setProducts(arr);\n    setSearchResultsMessage(`Showing results for: \"${searchText}\"`);\n    setSearchText('');\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SearchContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Search Your Favourite Pooja here on just one click\",\n    value: searchText,\n    onChange: handleChange,\n    onKeyPress: handleKeyPress,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TopButton, {\n    onClick: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }\n  }, \"Search\")), searchResultsMessage && /*#__PURE__*/React.createElement(ResultsMessage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }, searchResultsMessage), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }, products.slice(0, 20).map(item => /*#__PURE__*/React.createElement(Product, {\n    item: item,\n    key: item.id,\n    cat: cat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }))));\n};\n_s(Products, \"C37+XiSa3WiGwp/23z+QPGR2V7s=\");\n_c6 = Products;\nexport default Products;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"SearchContainer\");\n$RefreshReg$(_c3, \"Input\");\n$RefreshReg$(_c4, \"TopButton\");\n$RefreshReg$(_c5, \"ResultsMessage\");\n$RefreshReg$(_c6, \"Products\");","map":{"version":3,"names":["React","useEffect","useState","styled","popularProducts","Product","axios","Search","ShoppingCartOutlined","Badge","mobile","Container","div","_c","SearchContainer","width","_c2","Input","input","_c3","TopButton","button","marginLeft","marginTop","position","_c4","ResultsMessage","p","_c5","Products","_ref","_s","cat","filters","sort","products","setProducts","filteredProducts","setFilteredProducts","searchText","setSearchText","searchResultsMessage","setSearchResultsMessage","getProducts","handleChange","e","target","value","handleKeyPress","key","handleSearch","res","get","data","console","log","filter","item","Object","entries","every","_ref2","includes","prev","a","b","createdAt","price","arr","i","length","title","toLowerCase","push","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","onKeyPress","onClick","slice","map","id","_c6","$RefreshReg$"],"sources":["C:/Users/OS/Videos/VirtualPoojaPalace/client/src/components/Products.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { popularProducts } from \"../data\";\nimport Product from \"./Product\";\nimport axios from \"axios\";\nimport { Search, ShoppingCartOutlined } from \"@material-ui/icons\";\nimport { Badge } from \"@material-ui/core\";\nimport { mobile } from \"../responsive\";\n\nconst Container = styled.div`\n  padding: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n`;\n\nconst SearchContainer = styled.div`\n  border: 0.5px solid teal;\n  display: flex;\n  align-items: center;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 20px;\n  padding: 10px;\n  background-color: #f5f5f5;\n  border-radius: 20px;\n  width: 50%;\n  transition: background-color 0.3s;\n  position: relative;\n\n  &:hover {\n    background-color: #ececee;\n  }\n\n  ${mobile({\n    width: \"100%\",\n  })}\n`;\n\nconst Input = styled.input`\n  border: none;\n  outline: none;\n  width: 100%;\n  font-size: 16px;\n`;\n\nconst TopButton = styled.button`\n  padding: 10px 20px;\n  font-weight: 600;\n  cursor: pointer;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  background-color: teal;\n  color: white;\n  border: none;\n  border-radius: 20px;\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n\n  ${mobile({\n    marginLeft: 0,\n    marginTop: \"10px\",\n    position: \"static\",\n    width: \"100%\",\n  })}\n`;\n\nconst ResultsMessage = styled.p`\n  font-size: 16px;\n  font-weight: bold;\n  margin-top: 10px;\n`;\n\nconst Products = ({ cat, filters, sort }) => {\n  const [products, setProducts] = useState(popularProducts);\n  const [filteredProducts, setFilteredProducts] = useState([]);\n  const [searchText, setSearchText] = useState(\"\");\n  const [searchResultsMessage, setSearchResultsMessage] = useState(\"\");\n\n  useEffect(() => {\n    getProducts();\n  }, [cat]);\n\n  const handleChange = (e) => {\n    setSearchText(e.target.value);\n    if (e.target.value === \"\") {\n      getProducts();\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\") {\n      handleSearch();\n    }\n  };\n\n  const getProducts = async () => {\n    try {\n      const res = await axios.get(\n        cat\n          ? `http://localhost:5000/api/products?category=${cat}`\n          : \"https://virtual-pooja-palace-api.vercel.app/api/products\"\n      );\n      setProducts(res.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  useEffect(() => {\n    cat &&\n      setFilteredProducts(\n        products.filter((item) =>\n          Object.entries(filters).every(([key, value]) =>\n            item[key].includes(value)\n          )\n        )\n      );\n  }, [products, cat, filters]);\n\n  useEffect(() => {\n    if (sort === \"newest\") {\n      setFilteredProducts((prev) =>\n        [...prev].sort((a, b) => a.createdAt - b.createdAt)\n      );\n    } else if (sort === \"asc\") {\n      setFilteredProducts((prev) =>\n        [...prev].sort((a, b) => a.price - b.price)\n      );\n    } else {\n      setFilteredProducts((prev) =>\n        [...prev].sort((a, b) => b.price - a.price)\n      );\n    }\n  }, [sort]);\n\n  const handleSearch = () => {\n    let arr = [];\n    for (let i = 0; i < products?.length; i++) {\n      if (products[i].title.toLowerCase().includes(searchText.toLowerCase())) {\n        arr.push(products[i]);\n      }\n    }\n    setProducts(arr);\n    setSearchResultsMessage(`Showing results for: \"${searchText}\"`);\n    setSearchText('');\n  };\n\n  return (\n    <>\n      <SearchContainer>\n        <Input\n          type=\"text\"\n          placeholder=\"Search Your Favourite Pooja here on just one click\"\n          value={searchText}\n          onChange={handleChange}\n          onKeyPress={handleKeyPress}\n        />\n        <TopButton onClick={handleSearch}>Search</TopButton>\n      </SearchContainer>\n\n      {searchResultsMessage && (\n        <ResultsMessage>{searchResultsMessage}</ResultsMessage>\n      )}\n\n      <Container>\n        {products.slice(0, 20).map((item) => (\n          <Product item={item} key={item.id} cat={cat} />\n        ))}\n      </Container>\n    </>\n  );\n};\n\nexport default Products;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}